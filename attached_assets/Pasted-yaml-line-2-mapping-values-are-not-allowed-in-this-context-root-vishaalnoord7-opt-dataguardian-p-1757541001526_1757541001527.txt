yaml: line 2: mapping values are not allowed in this context
root@vishaalnoord7:/opt/dataguardian-pro# docker compose -f docker-compose.prod.yml up -d --build
yaml: line 2: mapping values are not allowed in this context
root@vishaalnoord7:/opt/dataguardian-pro# cat docker-compose.prod.yml
cat > docker-compose.prod.yml << 'EOF'
version: '3.8'
services:
  dataguardian-pro:
    image: dataguardian-pro:latest
    container_name: dataguardian-pro
    restart: unless-stopped
    ports:
      - "127.0.0.1:5000:5000"
    environment:
      - ENVIRONMENT=production
      - DOMAIN=dataguardianpro.nl
    networks:
      - dataguardian-network
  postgres:
    image: postgres:16
    container_name: dataguardian-postgres
    restart: unless-stopped
    environment:
      POSTGRES_DB: dataguardian_pro
      POSTGRES_USER: dataguardian_pro
      POSTGRES_PASSWORD: secure_password_2025
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - dataguardian-network
  nginx:
    image: nginx:alpine
    container_name: dataguardian-nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/letsencrypt:ro
    networks:
      - dataguardian-network
    depends_on:
      - dataguardian-pro
volumes:
  postgres_data:
networks:
  dataguardian-network:
    driver: bridge
EOF
# Create basic app.py and requirements.txt first
cat > app.py << 'EOF'
import streamlit as st
st.set_page_config(
    page_title="DataGuardian Pro",
    page_icon="ðŸ›¡ï¸",
    layout="wide"
)
st.title("ðŸ›¡ï¸ DataGuardian Pro")
st.success("âœ… Production deployment successful!")
st.info("Your DataGuardian Pro platform is now running with SSL certificates.")
st.write("Domain:", "dataguardianpro.nl")
EOF
cat > requirements.txt << 'EOF'
streamlit>=1.28.0
pandas>=1.5.0
psycopg2-binary>=2.9.0
requests>=2.31.0
EOF
cat > Dockerfile << 'EOF'
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["streamlit", "run", "app.py", "--server.port", "5000", "--server.address", "0.0.0.0", "--server.headless", "true"]