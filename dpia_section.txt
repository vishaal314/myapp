                    if scan_type == _("scan.document"):
                        scanner_instance = BlobScanner(region=region)
                    elif scan_type == _("scan.image"):
                        scanner_instance = ImageScanner(region=region)
                    elif scan_type == _("scan.database"):
                        scanner_instance = DatabaseScanner(region=region)
                    elif scan_type == _("scan.dpia"):
                        # Display information about the crash-resistant DPIA form
                        st.markdown("""
                        <div style="background-color: #fff8e1; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffa000;">
                            <h3 style="color: #795548; margin-top: 0; margin-bottom: 10px;">DPIA Assessment</h3>
                            <p style="margin: 0;">This crash-resistant DPIA form allows you to fill in all required administrative information
                            and generate a complete privacy DPIA scan report based on your inputs. The form includes enhanced error handling
                            to prevent crashes during submission.</p>
                        </div>
                        """, unsafe_allow_html=True)
                        
                        # Import and run our new crash-resistant DPIA form
                        from crash_resistant_dpia import run_crash_resistant_dpia
                        run_crash_resistant_dpia()
                        
                        # Stop normal flow to proceed with only the crash-resistant form
                        scan_running = False
                            
                            # Create a two-column layout for better use of space
                            question_col, progress_col = st.columns([3, 1])
                            
                            with question_col:
                                # Loop through each category
                                for category, info in assessment_categories.items():
                                    # Create a visually distinct section for each category
